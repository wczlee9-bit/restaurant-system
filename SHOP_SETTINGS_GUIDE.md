# 🏪 店铺设置和二维码管理指南

## 📋 概述

店铺设置页面提供完整的店铺管理功能，包括店铺信息管理、桌号管理和二维码生成。

---

## 🚀 快速开始

### 访问店铺设置页面

**方式一：从主入口进入**
1. 访问：`http://localhost:8080/assets/index.html`
2. 点击"🏪 店铺设置"按钮

**方式二：直接访问**
- 本地：`http://localhost:8080/assets/shop_settings.html`
- Netlify：`https://your-site.netlify.app/shop_settings.html`

---

## 📝 功能说明

### 1. 店铺信息管理

#### 基本信息
- **店铺名称**：您的餐厅名称
- **店铺地址**：餐厅地址信息
- **联系电话**：客服电话
- **营业时间**：设置每天的开始和结束时间
- **店铺描述**：餐厅简介和特色

#### 保存和重置
- **保存**：点击"保存店铺信息"按钮，信息会保存到浏览器本地存储
- **重置**：点击"重置"按钮，恢复默认设置

---

### 2. 桌号管理

#### 添加桌号

1. 切换到"桌号管理"标签
2. 点击"添加桌号"按钮
3. 填写桌号信息：
   - **桌号**：桌子的编号（1-999）
   - **座位数**：桌子能坐多少人（1-20）
   - **状态**：可用 / 禁用
   - **备注**：桌子的特殊说明（如"靠窗"、"包厢"等）
4. 点击"确定"保存

#### 编辑桌号

1. 在桌号列表中找到要编辑的桌号
2. 点击"编辑"按钮
3. 修改桌号信息
4. 点击"确定"保存

#### 删除桌号

1. 在桌号列表中找到要删除的桌号
2. 点击"删除"按钮
3. 确认删除操作

**注意**：删除桌号会同时删除对应的二维码。

---

### 3. 二维码管理

#### 为单个桌号生成二维码

1. 在"桌号管理"或"二维码管理"标签中
2. 找到要生成二维码的桌号
3. 点击"生成二维码"按钮
4. 二维码会自动生成并显示在桌号卡片中

#### 批量生成所有二维码

1. 切换到"二维码管理"标签
2. 点击"批量生成所有二维码"按钮
3. 系统会自动为所有桌号生成二维码

#### 预览二维码

1. 切换到"二维码管理"标签
2. 找到要预览的桌号
3. 点击"预览"按钮
4. 在弹窗中查看二维码

#### 下载二维码

**单个下载**：
1. 在桌号卡片或二维码管理页面
2. 点击"下载"按钮
3. 二维码会以 `table_XX_qrcode.png` 格式下载

**预览下载**：
1. 在预览窗口中
2. 点击"下载"按钮

#### 打印二维码

**单个打印**：
1. 在桌号卡片中
2. 点击"打印"按钮
3. 浏览器会打开打印窗口
4. 选择打印机和打印设置

**批量打印**：
1. 切换到"二维码管理"标签
2. 点击"批量打印"按钮
3. 所有二维码会以表格形式显示
4. 打印所有二维码

**打印建议**：
- 使用 A4 纸打印，每张纸可以打印 2-4 个二维码
- 确保二维码清晰可扫描
- 可以过塑或装框，增加耐用性

---

## 📱 二维码使用说明

### 二维码内容

每个桌号的二维码包含以下信息：
- URL: `restaurant_full_test.html?table=桌号`
- 示例：`http://localhost:8080/assets/restaurant_full_test.html?table=8`

### 顾客扫码流程

1. 顾客使用手机扫描桌上的二维码
2. 自动跳转到对应桌号的点餐页面
3. 浏览菜单，选择菜品
4. 提交订单

### 二维码贴放位置

- 建议贴在桌子显眼位置
- 确保顾客坐下后能轻松扫描
- 可以配合桌号牌使用

---

## 💾 数据存储

### 本地存储

所有店铺设置数据都保存在浏览器的 `localStorage` 中：

- `shopInfo`: 店铺信息
- `tables`: 桌号列表

**优点**：
- 无需服务器，数据保存在浏览器中
- 访问速度快
- 简单易用

**注意事项**：
- 数据保存在浏览器中，清除浏览器数据会丢失
- 不同浏览器的数据不共享
- 建议定期导出备份

### 导出备份（可选）

如果想保存设置，可以：
1. 打开浏览器开发者工具（F12）
2. 切换到"Application"标签
3. 找到"Local Storage"
4. 复制保存相关数据

---

## 🎨 自定义设置

### 修改店铺主题

如需修改店铺主题颜色，可以在 `shop_settings.html` 中找到：

```javascript
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
```

修改颜色代码即可。

### 自定义二维码样式

二维码的样式由 `qrcodejs` 库控制，可以在生成二维码时修改参数：

```javascript
new QRCode(container, {
    text: qrcodeUrl,
    width: 300,      // 二维码宽度
    height: 300,     // 二维码高度
    colorDark: "#000000",   // 前景色
    colorLight: "#ffffff",  // 背景色
    correctLevel: QRCode.CorrectLevel.H  // 容错级别
});
```

---

## 🔄 常见问题

### Q1: 二维码生成后扫描跳转错误？

**A**: 检查以下几点：
1. 确认 API 地址配置正确
2. 确认页面 URL 路径正确
3. 在不同的网络环境下测试（局域网、公网）

### Q2: 找不到之前保存的桌号？

**A**:
1. 检查是否清除了浏览器缓存
2. 检查是否使用了不同的浏览器
3. 数据保存在本地存储中，清除数据会丢失

### Q3: 如何批量导入桌号？

**A**: 当前版本不支持批量导入，可以：
1. 手动逐个添加
2. 修改 `localStorage` 数据（需要开发知识）
3. 等待后续版本更新

### Q4: 打印二维码时排版混乱？

**A**:
1. 使用 Chrome 浏览器（推荐）
2. 打印前在打印预览中调整页面设置
3. 选择"横向"打印可能更好
4. 可以先打印一页测试效果

### Q5: 二维码扫描不成功？

**A**:
1. 确认二维码清晰可见
2. 确保二维码没有污损
3. 尝试使用不同的扫描软件
4. 确认 URL 正确可访问

### Q6: 如何迁移设置到其他设备？

**A**:
1. 导出本地存储数据（通过开发者工具）
2. 在目标设备上导入数据
3. 或者重新设置一遍（推荐）

---

## 🎯 最佳实践

### 1. 店铺设置

- 填写完整的店铺信息，便于顾客联系
- 设置合理的营业时间
- 定期更新店铺描述

### 2. 桌号管理

- 按区域或类型管理桌号（如：一楼、二楼、包厢）
- 为特殊位置的桌号添加备注（如：靠窗、安静）
- 禁用的桌号及时更新状态

### 3. 二维码管理

- 定期检查二维码的清晰度
- 确保二维码贴放位置合适
- 建议备份二维码图片
- 批量打印时选择合适的纸张和排版

---

## 📞 技术支持

如果遇到问题：
1. 查看浏览器控制台（F12）是否有错误
2. 参考本文档的常见问题部分
3. 联系技术支持

---

## 🔄 后续更新计划

- [ ] 支持批量导入/导出桌号
- [ ] 支持自定义二维码 Logo
- [ ] 支持二维码美化（添加边框、文字等）
- [ ] 支持云端数据存储
- [ ] 支持多门店管理

---

**祝您使用愉快！** 🎉
