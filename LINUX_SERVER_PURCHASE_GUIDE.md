# Linux 服务器购买指南

## 🎯 推荐配置

### 方案 A：最低可用配置

```
操作系统：Ubuntu 22.04 LTS
应用镜像：宝塔 Linux 面板
CPU：2核
内存：2GB
系统盘：40GB SSD
流量包：1024GB/月（峰值带宽 30Mbps）
价格：约 30-50 元/月
```

### 方案 B：推荐配置（更稳定）

```
操作系统：Ubuntu 22.04 LTS
应用镜像：宝塔 Linux 面板
CPU：2核
内存：4GB
系统盘：50GB SSD
流量包：1024GB/月（峰值带宽 30Mbps）
价格：约 50-80 元/月
```

### 方案 C：高性能配置

```
操作系统：Ubuntu 22.04 LTS
应用镜像：宝塔 Linux 面板
CPU：4核
内存：8GB
系统盘：80GB SSD
流量包：2048GB/月（峰值带宽 40Mbps）
价格：约 100-150 元/月
```

---

## 🛒 腾讯云购买步骤

### Step 1: 登录腾讯云控制台

访问：https://console.cloud.tencent.com/lighthouse/instance

### Step 2: 点击"新建实例"

### Step 3: 选择镜像

- **地域**：选择离你最近的地域（如：北京、上海、广州）
- **镜像类型**：应用镜像
- **镜像**：Ubuntu 22.04 LTS
- **应用模板**：宝塔 Linux 面板

### Step 4: 选择套餐

根据预算选择配置：
- **入门型**：2核2GB（方案 A）
- **推荐型**：2核4GB（方案 B）
- **高性能型**：4核8GB（方案 C）

### Step 5: 配置实例

- **实例名称**：restaurant-system（或自定义）
- **购买时长**：1 个月（可后续续费）
- **数量**：1

### Step 6: 设置登录方式

**方式 A：密码登录（推荐）**
- 用户名：`root`
- 密码：设置一个强密码（至少 12 位，包含大小写字母、数字、特殊字符）

**方式 B：SSH 密钥（更安全）**
- 需要先创建 SSH 密钥对
- 下载私钥到本地

### Step 7: 确认购买

- 查看订单详情
- 确认配置和价格
- 点击"立即购买"
- 支付完成

---

## 🚀 部署步骤（购买完成后）

### Step 1: 获取服务器 IP

购买完成后，在腾讯云控制台查看：
- 实例名称
- 公网 IP 地址
- 登录密码

### Step 2: SSH 连接到服务器

**在你的本地电脑上**：

#### Windows 用户：

```bash
# 方法 1: 使用 PuTTY
1. 下载 PuTTY: https://www.putty.org/
2. 输入服务器 IP
3. 点击 Open
4. 输入用户名: root
5. 输入密码

# 方法 2: 使用 PowerShell
ssh root@你的服务器IP
```

#### macOS / Linux 用户：

```bash
ssh root@你的服务器IP
```

### Step 3: 运行一键部署脚本

连接成功后，执行以下命令：

```bash
# 下载部署脚本
wget https://raw.githubusercontent.com/wczlee9-bit/restaurant-system/main/deploy_linux/quick_deploy.sh

# 运行部署脚本
sudo bash quick_deploy.sh
```

### Step 4: 等待部署完成

脚本会自动完成所有配置，大约需要 10-15 分钟。

### Step 5: 访问系统

部署完成后，在浏览器中访问：

```
http://你的服务器IP/
http://你的服务器IP/customer_order_v3.html
```

---

## 📋 部署脚本自动完成的操作

1. ✅ 更新系统
2. ✅ 安装 Python 3.10+
3. ✅ 安装 PostgreSQL 14+
4. ✅ 安装 Nginx
5. ✅ 安装宝塔 Linux 面板
6. ✅ 克隆项目代码
7. ✅ 安装 Python 依赖
8. ✅ 创建并初始化数据库（60个菜品，43个桌号）
9. ✅ 配置后端服务（systemd）
10. ✅ 配置 Nginx 反向代理

---

## 🎯 为什么选择 Linux + 宝塔面板？

### 相比 Windows 的优势：

1. ✅ **资源占用更少**
   - 2GB 内存可以流畅运行
   - 不需要图形界面开销

2. ✅ **更稳定**
   - 可以连续运行数月不重启
   - 自动更新更安全

3. ✅ **部署更简单**
   - 命令行操作更高效
   - 一键脚本自动化部署

4. ✅ **宝塔 Linux 面板更成熟**
   - 功能更完善
   - 文档更丰富
   - 社区支持更好

5. ✅ **成本更低**
   - 相同配置下更便宜
   - 可以使用更低的配置

---

## 💡 推荐配置对比

| 配置 | CPU | 内存 | 硬盘 | 价格 | 适用场景 |
|------|-----|------|------|------|----------|
| 入门型 | 2核 | 2GB | 40GB | 30-50元/月 | 测试、小规模使用 |
| **推荐型** | **2核** | **4GB** | **50GB** | **50-80元/月** | **生产环境推荐** |
| 高性能型 | 4核 | 8GB | 80GB | 100-150元/月 | 大规模使用、高并发 |

---

## 🎨 系统架构（部署完成后）

```
Linux 服务器（Ubuntu 22.04）
├── 宝塔 Linux 面板（端口 8888）
│   ├── Web 管理界面
│   ├── Nginx（端口 80/443）
│   └── SSL 证书管理
├── 后端服务
│   ├── FastAPI + Uvicorn
│   ├── 端口 8000
│   └── systemd 管理
└── PostgreSQL 数据库
    ├── 端口 5432
    ├── 数据库: restaurant_system
    └── 初始数据: 60个菜品, 43个桌号
```

---

## 📊 预估成本

### 月度成本（方案 B - 推荐）：

- 服务器：50-80 元/月
- 域名（可选）：0-10 元/月（.com 域名）
- SSL 证书：免费（Let's Encrypt）

**总计**：50-90 元/月

### 年度成本：

- 服务器：600-960 元/年（通常有优惠）
- 域名：0-120 元/年

**总计**：600-1080 元/年

---

## 🚀 立即行动

### Step 1: 购买 Linux 服务器

访问腾讯云控制台，选择：
- Ubuntu 22.04 LTS
- 宝塔 Linux 面板
- 2核/4GB/50GB SSD

### Step 2: SSH 连接服务器

```bash
ssh root@你的服务器IP
```

### Step 3: 运行一键部署

```bash
wget https://raw.githubusercontent.com/wczlee9-bit/restaurant-system/main/deploy_linux/quick_deploy.sh
sudo bash quick_deploy.sh
```

### Step 4: 访问系统

```
http://你的服务器IP/
```

---

## 💡 提示

1. **首次连接可能较慢**：服务器启动需要几分钟
2. **记住服务器 IP 和密码**：后续需要使用
3. **定期备份数据**：宝塔面板有自动备份功能
4. **监控系统资源**：宝塔面板可以查看 CPU、内存、磁盘使用情况
5. **定期更新系统**：保持系统安全和稳定

---

## 🆘 需要帮助？

- 查看部署文档：[deploy_linux/README.md](deploy_linux/README.md)
- 联系腾讯云客服
- 查看宝塔 Linux 面板文档

---

**开始购买 Linux 服务器吧！这次一定会成功！** 🚀
