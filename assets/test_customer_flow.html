<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•é¡¾å®¢æ‰«ç ç‚¹é¤æµç¨‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 40px;
            max-width: 800px;
            width: 100%;
        }
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        .test-section {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }
        .test-section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 20px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .test-link {
            display: block;
            padding: 15px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s;
            font-weight: bold;
        }
        .test-link:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        .test-link.occupied {
            background: #e6a23c;
        }
        .test-link.occupied:hover {
            background: #d99932;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            color: #856404;
            line-height: 1.6;
        }
        .info-card {
            background: #e7f3ff;
            border-left: 4px solid #1890ff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            line-height: 1.6;
        }
        .success {
            color: #67c23a;
            font-weight: bold;
        }
        .warning {
            color: #e6a23c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª é¡¾å®¢æ‰«ç ç‚¹é¤æµç¨‹æµ‹è¯•</h1>
        <p class="subtitle">
            è¿™ä¸ªé¡µé¢æä¾›äº†ä¸€ç³»åˆ—æµ‹è¯•é“¾æ¥ï¼Œæ¨¡æ‹Ÿä¸åŒæ¡Œå·çš„æ‰«ç åœºæ™¯ã€‚
            ç‚¹å‡»ä»»æ„æ¡Œå·é“¾æ¥ï¼Œå°†è·³è½¬åˆ°ç‚¹é¤é¡µé¢å¹¶è‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„æ¡Œå·ã€‚
        </p>

        <div class="note">
            <strong>ğŸ’¡ æµ‹è¯•è¯´æ˜ï¼š</strong><br>
            â€¢ ç©ºé—²æ¡Œå·ï¼ˆè“è‰²ï¼‰å¯ç›´æ¥ç‚¹é¤<br>
            â€¢ å·²å ç”¨æ¡Œå·ï¼ˆæ©™è‰²ï¼‰ä¹Ÿå¯é€‰æ‹©ï¼Œä½†ä¼šæç¤ºåˆå¹¶è®¢å•<br>
            â€¢ æ”¯æŒå¤šç§URLå‚æ•°æ ¼å¼ï¼ˆtableã€table_numberã€table_idï¼‰
        </div>

        <div class="test-section">
            <h2>ğŸ“± æ¨¡æ‹Ÿæ‰«ç æµ‹è¯•</h2>
            <div class="info-card">
                å½“å‰é¡µé¢åœ°å€ï¼š<br>
                <code id="currentUrl"></code>
            </div>

            <div style="margin-top: 20px;">
                <strong>ç‚¹å‡»ä»¥ä¸‹é“¾æ¥æ¨¡æ‹Ÿæ‰«ç ï¼š</strong>
            </div>

            <div class="test-grid">
                <!-- è¿™äº›é“¾æ¥ä¼šé€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“‹ ä¿®å¤è¯´æ˜</h2>
            <div class="info-card">
                <strong>âœ… å·²ä¿®å¤çš„é—®é¢˜ï¼š</strong><br>
                1. <strong>å…è®¸é€‰æ‹©å·²å ç”¨çš„æ¡Œå·</strong> - æ¨¡æ‹Ÿæ–°é¡¾å®¢åˆ°æ¥ï¼Œä¸å—ä¹‹å‰è®¢å•å½±å“<br>
                2. <strong>å¢å¼ºURLå‚æ•°æ”¯æŒ</strong> - æ”¯æŒå¤šç§å‚æ•°åå’Œæ ¼å¼ï¼ˆå¦‚ T01ã€1 ç­‰ï¼‰<br>
                3. <strong>è‡ªåŠ¨åŠ è½½è®¢å•</strong> - é€‰æ‹©æ¡Œå·åè‡ªåŠ¨åŠ è½½è¯¥æ¡Œå·çš„ç°æœ‰è®¢å•
            </div>

            <div class="note">
                <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong><br>
                â€¢ å¦‚æœæ¡Œå·æœ‰è¿›è¡Œä¸­çš„è®¢å•ï¼Œä¼šæç¤º"è¯¥æ¡Œå½“å‰æœ‰è¿›è¡Œä¸­çš„è®¢å•ï¼Œç»§ç»­å°†åˆå¹¶è®¢å•"<br>
                â€¢ æ–°è®¢å•ä¼šä¸ç°æœ‰è®¢å•åˆå¹¶ï¼Œä¸ä¼šè¦†ç›–<br>
                â€¢ å¦‚æœéœ€è¦æ¸…ç©ºæ¡Œå·ï¼Œè¯·åœ¨å·¥ä½œäººå‘˜ç«¯å®Œæˆè®¢å•
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ¯ æµ‹è¯•æ­¥éª¤</h2>
            <ol style="line-height: 2; margin-left: 20px;">
                <li>ç‚¹å‡»ä¸Šæ–¹çš„ä»»æ„æ¡Œå·é“¾æ¥ï¼ˆå»ºè®®å…ˆé€‰æ‹©ä¸€ä¸ªç©ºé—²æ¡Œå·ï¼‰</li>
                <li>ç³»ç»Ÿä¼šè‡ªåŠ¨è·³è½¬åˆ°ç‚¹é¤é¡µé¢å¹¶é€‰æ‹©è¯¥æ¡Œå·</li>
                <li>åº”è¯¥èƒ½çœ‹åˆ°èœå•ä¸»é¡µå’Œèœå“åˆ—è¡¨</li>
                <li>å¯ä»¥é€‰æ‹©èœå“å¹¶æ·»åŠ åˆ°è´­ç‰©è½¦</li>
                <li>æäº¤è®¢å•å®Œæˆæµ‹è¯•</li>
            </ol>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºå½“å‰é¡µé¢åœ°å€
        document.getElementById('currentUrl').textContent = window.location.href;

        // æ¨¡æ‹Ÿæ¡Œå·æ•°æ®ï¼ˆä»APIè·å–çš„ç¤ºä¾‹æ•°æ®ï¼‰
        const tables = [
            { id: 11, table_number: 'T01', is_occupied: true },
            { id: 12, table_number: 'T02', is_occupied: false },
            { id: 13, table_number: 'T03', is_occupied: false },
            { id: 14, table_number: 'T04', is_occupied: false },
            { id: 15, table_number: 'T05', is_occupied: false },
            { id: 55, table_number: '8', is_occupied: true },
        ];

        // ç”Ÿæˆæµ‹è¯•é“¾æ¥
        const testGrid = document.querySelector('.test-grid');

        tables.forEach(table => {
            const link = document.createElement('a');
            link.className = 'test-link' + (table.is_occupied ? ' occupied' : '');
            link.href = `restaurant_full_test.html?table=${table.table_number}`;
            link.innerHTML = `${table.table_number}å·æ¡Œ<br><small>${table.is_occupied ? 'å·²å ç”¨' : 'ç©ºé—²'}</small>`;
            testGrid.appendChild(link);
        });

        // æ·»åŠ ä¸€äº›ç‰¹æ®Šæ ¼å¼çš„æµ‹è¯•é“¾æ¥
        const specialTests = [
            { label: 'æ•°å­—æ ¼å¼ (1)', param: '1' },
            { label: 'table_numberå‚æ•°', param: 'T02', paramName: 'table_number' },
            { label: 'table_idå‚æ•°', param: '11', paramName: 'table_id' },
        ];

        const specialDiv = document.createElement('div');
        specialDiv.innerHTML = '<strong style="margin-top: 20px; display: block;">ç‰¹æ®Šæ ¼å¼æµ‹è¯•ï¼š</strong>';
        testGrid.parentElement.appendChild(specialDiv);

        const specialGrid = document.createElement('div');
        specialGrid.className = 'test-grid';
        testGrid.parentElement.appendChild(specialGrid);

        specialTests.forEach(test => {
            const link = document.createElement('a');
            link.className = 'test-link';
            const paramName = test.paramName || 'table';
            link.href = `restaurant_full_test.html?${paramName}=${test.param}`;
            link.innerHTML = test.label;
            specialGrid.appendChild(link);
        });
    </script>
</body>
</html>
