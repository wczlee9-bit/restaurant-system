# 🍽️ 餐饮点餐系统 - 沙盒测试指南

## 📋 测试方案

所有程序运行在沙盒环境中，您可以直接在沙盒预览中测试！

---

## 🚀 快速开始（30秒开始测试）

### 方案1：一键测试（推荐）

1. 打开主入口页面：**`assets/index.html`**
2. 点击大按钮：**⚡ 立即测试8号桌完整流程**
3. 开始测试！

### 方案2：选择桌号

1. 打开：**`assets/index.html`**
2. 在桌号列表中点击任意桌号（如8号桌）
3. 自动进入点餐页面

---

## 📱 完整测试流程（8号桌示例）

### 第1步：顾客点餐 🛒

**页面角色**：👤 顾客（顶部按钮切换）

**操作**：
1. 页面自动选择8号桌（或点击"确认桌号"）
2. 浏览菜单（热菜、凉菜、主食、饮品等）
3. 点击菜品添加到购物车
4. 底部点击购物车按钮
5. 查看订单，选择支付方式
6. 点击"提交订单"

**预期结果**：
- ✅ 订单创建成功
- ✅ 显示订单号
- ✅ 跳转到订单详情页

---

### 第2步：厨师制作 👨‍🍳

**切换角色**：点击顶部 **👨‍🍳 厨师** 按钮

**操作**：
1. 查看"待制作"订单列表
2. 找到8号桌的订单
3. 点击菜品"开始制作"
4. 制作完成后点击"完成制作"
5. 或点击右下角 🎤 按钮，说"完成"或"做好"（语音确认）

**预期结果**：
- ✅ 菜品状态变更为"制作中" → "已完成"
- ✅ 传菜员收到通知

---

### 第3步：传菜员上菜 🤵

**切换角色**：点击顶部 **🤵 传菜员** 按钮

**操作**：
1. 查看"待传菜"订单
2. 找到8号桌的菜品
3. 点击"确认上菜"
4. 在弹出的确认框中点击"确认已上菜"

**预期结果**：
- ✅ 菜品状态变更为"已上菜"
- ✅ 顾客可以开始用餐

---

### 第4步：收银员结账 💰

**切换角色**：点击顶部 **💰 收银员** 按钮

**操作**：
1. 查看"待支付"订单
2. 找到8号桌的订单
3. 选择支付方式（微信/支付宝/现金等）
4. 点击"确认支付"
5. 点击"打印小票"

**预期结果**：
- ✅ 订单状态变更为"已支付"
- ✅ 显示支付成功提示
- ✅ 控制台显示小票内容

---

### 第5步：店长管理 👔

**切换角色**：点击顶部 **👔 店长** 按钮

**操作**：
1. 查看运营统计数据
2. 查看订单列表
3. 查看桌位状态
4. 查看营收数据

**预期结果**：
- ✅ 显示实时数据
- ✅ 统计准确

---

## 🎯 测试要点

### 必测场景

| 场景 | 操作 | 预期结果 |
|------|------|----------|
| 扫码进入 | 访问 `restaurant_full_test.html?table=8` | 自动选择8号桌 |
| 下单 | 添加菜品→提交订单 | 订单创建成功 |
| 制作流程 | 厨师开始制作→完成制作 | 状态正确流转 |
| 上菜确认 | 传菜员确认上菜 | 菜品状态更新 |
| 支付流程 | 收银员处理支付 | 支付成功 |
| 数据同步 | 各角色切换 | 数据实时更新 |

### 边界测试

- 测试库存不足（重复点同一菜品）
- 测试取消订单功能
- 测试多桌号同时点餐
- 测试网络延迟场景

---

## 🔧 技术细节

### 服务状态

```
✅ API服务：http://9.128.251.82:8000
✅ 测试页面：http://9.128.251.82:8080/assets/
✅ 数据库：已初始化测试数据
```

### 关键文件

| 文件 | 说明 |
|------|------|
| `assets/index.html` | 主入口页面（桌号选择） |
| `assets/restaurant_full_test.html` | 全流程测试页面 |
| `assets/qrcodes/table_*.png` | 桌号二维码图片 |

### URL参数支持

```bash
# 直接进入指定桌号
restaurant_full_test.html?table=8

# 返回主入口
index.html
```

---

## 💡 使用技巧

### 1. 快速切换角色

使用顶部导航栏快速切换角色，无需刷新页面

### 2. 语音确认

厨师端支持语音确认（右下角 🎤 按钮）

### 3. 实时刷新

系统每3秒自动刷新数据，确保信息最新

### 4. 打印功能

- 厨师制作单
- 传菜员传菜单
- 收银员小票

所有打印内容会显示在浏览器控制台（F12）

---

## ❓ 常见问题

### Q1: 页面打开没有数据？

**A**：等待3秒，系统会自动加载数据。检查控制台是否有错误。

### Q2: 提交订单失败？

**A**：确保已选择桌号，且菜品有库存。

### Q3: 状态更新不生效？

**A**：切换角色时等待数据刷新，或手动刷新页面。

### Q4: 如何查看API文档？

**A**：访问 http://9.128.251.82:8000/docs

---

## 📞 测试支持

如果遇到问题：

1. 打开浏览器控制台（F12）
2. 查看Console标签的错误信息
3. 查看Network标签的API请求详情
4. 检查服务是否正常运行

---

## 🎉 总结

现在您有3种方式开始测试：

### 方式1：主入口（推荐）
```
访问：assets/index.html
点击：⚡ 立即测试8号桌完整流程
```

### 方式2：选择桌号
```
访问：assets/index.html
点击任意桌号卡片
```

### 方式3：直接访问
```
访问：assets/restaurant_full_test.html?table=8
```

---

**开始测试吧！** 🍽️
