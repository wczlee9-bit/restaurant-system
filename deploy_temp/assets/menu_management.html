<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èœå“ç®¡ç† - æ‰«ç ç‚¹é¤ç³»ç»Ÿ</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <script src="https://unpkg.com/element-plus/dist/index.full.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif; background: #f5f7fa; min-height: 100vh; }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        .header h1 { font-size: 24px; margin-bottom: 5px; }
        .header p { opacity: 0.9; font-size: 14px; }
        
        .container { max-width: 1400px; margin: 20px auto; padding: 0 20px; }
        
        .page-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px;
        }
        .back-btn {
            color: white; text-decoration: none; padding: 8px 20px;
            background: rgba(255,255,255,0.2); border-radius: 4px; transition: all 0.3s;
        }
        .back-btn:hover { background: rgba(255,255,255,0.3); }
        
        .tabs { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.1); }
        .tab-content { background: white; border-radius: 8px; padding: 30px; box-shadow: 0 2px 12px rgba(0,0,0,0.1); }
        
        .section-title {
            font-size: 18px; font-weight: bold; margin-bottom: 20px;
            color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px;
        }
        
        .toolbar {
            display: flex; gap: 10px; margin-bottom: 20px;
        }
        
        .search-box { width: 300px; }
        
        .menu-card {
            display: flex; gap: 20px; padding: 20px; border: 1px solid #e4e7ed;
            border-radius: 8px; margin-bottom: 15px; transition: all 0.3s;
        }
        .menu-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); transform: translateY(-2px); }
        
        .menu-img {
            width: 120px; height: 120px; border-radius: 8px; object-fit: cover;
            background: #f5f7fa; flex-shrink: 0;
        }
        .menu-info { flex: 1; }
        .menu-name { font-size: 18px; font-weight: bold; margin-bottom: 8px; }
        .menu-category { font-size: 14px; color: #667eea; margin-bottom: 8px; }
        .menu-desc { font-size: 14px; color: #666; margin-bottom: 8px; }
        .menu-price { font-size: 20px; font-weight: bold; color: #f56c6c; }
        .menu-stock { font-size: 14px; color: #909399; margin-left: 10px; }
        
        .menu-status { margin-top: 10px; }
        
        .empty-state {
            text-align: center; padding: 60px 20px; color: #999;
        }
        .empty-icon { font-size: 48px; margin-bottom: 20px; }
        
        .upload-area {
            border: 2px dashed #d9d9d9; border-radius: 6px; padding: 40px;
            text-align: center; cursor: pointer; transition: all 0.3s;
        }
        .upload-area:hover { border-color: #667eea; }
        
        .preview-img {
            width: 100%; height: 200px; object-fit: cover; border-radius: 6px; margin-top: 10px;
        }
        
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .menu-card { flex-direction: column; }
            .menu-img { width: 100%; height: 200px; }
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1>ğŸ½ï¸ èœå“ç®¡ç†</h1>
                    <p>ç®¡ç†èœå“åˆ†ç±»ã€èœå“ä¿¡æ¯å’Œå›¾ç‰‡</p>
                </div>
                <div>
                    <a href="portal.html" class="back-btn">â† è¿”å›é—¨æˆ·</a>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="tabs">
                <el-tabs v-model="activeTab" @tab-change="handleTabChange">
                    <el-tab-pane label="èœå“åˆ†ç±»" name="categories">
                        <span>èœå“åˆ†ç±»</span>
                        <el-badge :value="categories.length" class="item" v-if="categories.length > 0"></el-badge>
                    </el-tab-pane>
                    <el-tab-pane label="èœå“åˆ—è¡¨" name="menu">
                        <span>èœå“åˆ—è¡¨</span>
                        <el-badge :value="menuItems.length" class="item" v-if="menuItems.length > 0"></el-badge>
                    </el-tab-pane>
                </el-tabs>
            </div>

            <!-- èœå“åˆ†ç±» -->
            <div class="tab-content" v-show="activeTab === 'categories'">
                <div class="section-title" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>ğŸ“‚ åˆ†ç±»ç®¡ç†</span>
                    <el-button type="primary" @click="showCategoryDialog = true">+ æ·»åŠ åˆ†ç±»</el-button>
                </div>

                <div v-if="categories.length === 0" class="empty-state">
                    <div class="empty-icon">ğŸ“‚</div>
                    <p>è¿˜æ²¡æœ‰æ·»åŠ èœå“åˆ†ç±»</p>
                    <el-button type="primary" @click="showCategoryDialog = true">ç«‹å³æ·»åŠ </el-button>
                </div>

                <div v-else>
                    <el-table :data="categories" style="width: 100%">
                        <el-table-column prop="id" label="ID" width="80"></el-table-column>
                        <el-table-column prop="name" label="åˆ†ç±»åç§°" min-width="200">
                            <template #default="scope">
                                <strong>{{ scope.row.name }}</strong>
                            </template>
                        </el-table-column>
                        <el-table-column prop="description" label="æè¿°" min-width="200"></el-table-column>
                        <el-table-column label="èœå“æ•°é‡" width="120">
                            <template #default="scope">
                                {{ getCategoryItemCount(scope.row.id) }}
                            </template>
                        </el-table-column>
                        <el-table-column prop="sort_order" label="æ’åº" width="100"></el-table-column>
                        <el-table-column label="çŠ¶æ€" width="100">
                            <template #default="scope">
                                <el-tag :type="scope.row.is_active ? 'success' : 'info'">
                                    {{ scope.row.is_active ? 'å¯ç”¨' : 'ç¦ç”¨' }}
                                </el-tag>
                            </template>
                        </el-table-column>
                        <el-table-column label="æ“ä½œ" width="180" fixed="right">
                            <template #default="scope">
                                <el-button size="small" @click="editCategory(scope.row)">ç¼–è¾‘</el-button>
                                <el-button size="small" type="danger" @click="deleteCategory(scope.row)">åˆ é™¤</el-button>
                            </template>
                        </el-table-column>
                    </el-table>
                </div>
            </div>

            <!-- èœå“åˆ—è¡¨ -->
            <div class="tab-content" v-show="activeTab === 'menu'">
                <div class="toolbar">
                    <el-input
                        v-model="searchKeyword"
                        placeholder="æœç´¢èœå“åç§°..."
                        class="search-box"
                        clearable>
                        <template #prefix>
                            <el-icon><Search /></el-icon>
                        </template>
                    </el-input>
                    <el-select v-model="filterCategory" placeholder="é€‰æ‹©åˆ†ç±»" clearable style="width: 150px;">
                        <el-option label="å…¨éƒ¨åˆ†ç±»" value=""></el-option>
                        <el-option
                            v-for="cat in categories"
                            :key="cat.id"
                            :label="cat.name"
                            :value="cat.id">
                        </el-option>
                    </el-select>
                    <el-button type="primary" @click="showMenuDialog = true; isEditing = false; resetMenuForm()">
                        + æ·»åŠ èœå“
                    </el-button>
                </div>

                <div v-if="filteredMenuItems.length === 0" class="empty-state">
                    <div class="empty-icon">ğŸ½ï¸</div>
                    <p>æš‚æ— èœå“</p>
                    <el-button type="primary" @click="showMenuDialog = true; isEditing = false; resetMenuForm()">
                        ç«‹å³æ·»åŠ 
                    </el-button>
                </div>

                <div v-else>
                    <div v-for="item in filteredMenuItems" :key="item.id" class="menu-card">
                        <img :src="item.image_url || 'https://via.placeholder.com/120'" class="menu-img" :alt="item.name">
                        <div class="menu-info">
                            <div class="menu-name">{{ item.name }}</div>
                            <div class="menu-category">{{ getCategoryName(item.category_id) }}</div>
                            <div class="menu-desc">{{ item.description || 'æš‚æ— æè¿°' }}</div>
                            <div class="menu-price">Â¥{{ item.price }} <span class="menu-stock">åº“å­˜: {{ item.stock }}</span></div>
                            <div class="menu-status">
                                <el-tag v-if="item.is_available" type="success">ä¸Šæ¶ä¸­</el-tag>
                                <el-tag v-else type="info">å·²ä¸‹æ¶</el-tag>
                                <el-tag v-if="item.is_recommended" type="danger" style="margin-left: 10px;">æ¨è</el-tag>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <el-button size="small" @click="editMenu(item)">ç¼–è¾‘</el-button>
                            <el-button size="small" type="success" @click="toggleMenuStatus(item)">
                                {{ item.is_available ? 'ä¸‹æ¶' : 'ä¸Šæ¶' }}
                            </el-button>
                            <el-button size="small" type="danger" @click="deleteMenu(item)">åˆ é™¤</el-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åˆ†ç±»å¯¹è¯æ¡† -->
        <el-dialog
            v-model="showCategoryDialog"
            :title="editingCategory ? 'ç¼–è¾‘åˆ†ç±»' : 'æ·»åŠ åˆ†ç±»'"
            width="500px">
            <el-form :model="categoryForm" label-width="100px">
                <el-form-item label="åˆ†ç±»åç§°" required>
                    <el-input v-model="categoryForm.name" placeholder="è¯·è¾“å…¥åˆ†ç±»åç§°"></el-input>
                </el-form-item>
                <el-form-item label="æè¿°">
                    <el-input v-model="categoryForm.description" type="textarea" :rows="3" placeholder="è¯·è¾“å…¥åˆ†ç±»æè¿°"></el-input>
                </el-form-item>
                <el-form-item label="æ’åº">
                    <el-input-number v-model="categoryForm.sort_order" :min="0"></el-input-number>
                </el-form-item>
                <el-form-item label="çŠ¶æ€">
                    <el-switch v-model="categoryForm.is_active" active-text="å¯ç”¨" inactive-text="ç¦ç”¨"></el-switch>
                </el-form-item>
            </el-form>
            <template #footer>
                <span class="dialog-footer">
                    <el-button @click="showCategoryDialog = false">å–æ¶ˆ</el-button>
                    <el-button type="primary" @click="saveCategory">ç¡®å®š</el-button>
                </span>
            </template>
        </el-dialog>

        <!-- èœå“å¯¹è¯æ¡† -->
        <el-dialog
            v-model="showMenuDialog"
            :title="isEditing ? 'ç¼–è¾‘èœå“' : 'æ·»åŠ èœå“'"
            width="700px">
            <el-form :model="menuForm" label-width="100px">
                <div class="form-grid">
                    <el-form-item label="èœå“åç§°" required>
                        <el-input v-model="menuForm.name" placeholder="è¯·è¾“å…¥èœå“åç§°"></el-input>
                    </el-form-item>
                    <el-form-item label="åˆ†ç±»" required>
                        <el-select v-model="menuForm.category_id" placeholder="è¯·é€‰æ‹©åˆ†ç±»" style="width: 100%;">
                            <el-option
                                v-for="cat in categories"
                                :key="cat.id"
                                :label="cat.name"
                                :value="cat.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                </div>
                
                <div class="form-grid">
                    <el-form-item label="ä»·æ ¼" required>
                        <el-input-number v-model="menuForm.price" :min="0" :precision="2" :step="0.5"></el-input-number>
                    </el-form-item>
                    <el-form-item label="åº“å­˜">
                        <el-input-number v-model="menuForm.stock" :min="0"></el-input-number>
                    </el-form-item>
                </div>
                
                <el-form-item label="æè¿°">
                    <el-input v-model="menuForm.description" type="textarea" :rows="3" placeholder="è¯·è¾“å…¥èœå“æè¿°"></el-input>
                </el-form-item>
                
                <el-form-item label="å›¾ç‰‡">
                    <div class="upload-area" @click="$refs.fileInput.click()">
                        <input type="file" ref="fileInput" @change="handleImageUpload" accept="image/*" style="display: none;">
                        <div v-if="!menuForm.image_url">
                            <div style="font-size: 48px;">ğŸ“·</div>
                            <p>ç‚¹å‡»ä¸Šä¼ èœå“å›¾ç‰‡</p>
                            <p style="font-size: 12px; color: #999;">æ”¯æŒ JPGã€PNG æ ¼å¼</p>
                        </div>
                        <img v-else :src="menuForm.image_url" class="preview-img">
                    </div>
                </el-form-item>
                
                <div class="form-grid">
                    <el-form-item label="ä¸Šæ¶çŠ¶æ€">
                        <el-switch v-model="menuForm.is_available" active-text="ä¸Šæ¶" inactive-text="ä¸‹æ¶"></el-switch>
                    </el-form-item>
                    <el-form-item label="æ¨è">
                        <el-switch v-model="menuForm.is_recommended" active-text="æ¨è" inactive-text="ä¸æ¨è"></el-switch>
                    </el-form-item>
                </div>
            </el-form>
            <template #footer>
                <span class="dialog-footer">
                    <el-button @click="showMenuDialog = false">å–æ¶ˆ</el-button>
                    <el-button type="primary" @click="saveMenu">ç¡®å®š</el-button>
                </span>
            </template>
        </el-dialog>
    </div>

    <script>
        const { createApp, ref, reactive, computed } = Vue;

        createApp({
            setup() {
                const activeTab = ref('menu');
                const searchKeyword = ref('');
                const filterCategory = ref('');
                const showCategoryDialog = ref(false);
                const showMenuDialog = ref(false);
                const editingCategory = ref(null);
                const isEditing = ref(false);

                // åˆ†ç±»æ•°æ®
                const categories = ref([
                    { id: 1, name: 'çƒ­èœ', description: 'æ‹›ç‰Œçƒ­èœç³»åˆ—', sort_order: 1, is_active: true },
                    { id: 2, name: 'å‡‰èœ', description: 'çˆ½å£å‡‰èœç³»åˆ—', sort_order: 2, is_active: true },
                    { id: 3, name: 'ä¸»é£Ÿ', description: 'ç±³é¥­ã€é¢æ¡ç­‰ä¸»é£Ÿ', sort_order: 3, is_active: true },
                    { id: 4, name: 'é¥®å“', description: 'å„ç±»é¥®æ–™', sort_order: 4, is_active: true },
                    { id: 5, name: 'ç”œç‚¹', description: 'ç²¾ç¾ç”œç‚¹', sort_order: 5, is_active: true }
                ]);

                // èœå“æ•°æ®
                const menuItems = ref([
                    { id: 1, name: 'å®«ä¿é¸¡ä¸', category_id: 1, price: 38.00, stock: 50, description: 'ç»å…¸å·èœï¼Œéº»è¾£é²œé¦™', image_url: '', is_available: true, is_recommended: true },
                    { id: 2, name: 'é±¼é¦™è‚‰ä¸', category_id: 1, price: 32.00, stock: 45, description: 'é…¸ç”œå¯å£çš„ç»å…¸èœ', image_url: '', is_available: true, is_recommended: false },
                    { id: 3, name: 'å‡‰æ‹Œé»„ç“œ', category_id: 2, price: 12.00, stock: 100, description: 'æ¸…çˆ½å¼€èƒƒ', image_url: '', is_available: true, is_recommended: false },
                    { id: 4, name: 'çº¢çƒ§è‚‰', category_id: 1, price: 48.00, stock: 30, description: 'è‚¥è€Œä¸è…»ï¼Œå…¥å£å³åŒ–', image_url: '', is_available: true, is_recommended: true },
                    { id: 5, name: 'å¯ä¹é¸¡ç¿…', category_id: 1, price: 35.00, stock: 40, description: 'è€å°‘çš†å®œ', image_url: '', is_available: true, is_recommended: false },
                    { id: 6, name: 'ç±³é¥­', category_id: 3, price: 2.00, stock: 200, description: 'é¦™ç”œå¯å£', image_url: '', is_available: true, is_recommended: false },
                    { id: 7, name: 'å¯ä¹', category_id: 4, price: 5.00, stock: 80, description: 'å†°é•‡å¯ä¹', image_url: '', is_available: true, is_recommended: false },
                    { id: 8, name: 'è¥¿ç“œæ±', category_id: 4, price: 15.00, stock: 60, description: 'æ–°é²œæ¦¨æ±', image_url: '', is_available: true, is_recommended: true }
                ]);

                // åˆ†ç±»è¡¨å•
                const categoryForm = reactive({
                    id: null,
                    name: '',
                    description: '',
                    sort_order: 0,
                    is_active: true
                });

                // èœå“è¡¨å•
                const menuForm = reactive({
                    id: null,
                    name: '',
                    category_id: null,
                    price: 0,
                    stock: 0,
                    description: '',
                    image_url: '',
                    is_available: true,
                    is_recommended: false
                });

                // è®¡ç®—å±æ€§ - è¿‡æ»¤åçš„èœå“åˆ—è¡¨
                const filteredMenuItems = computed(() => {
                    return menuItems.value.filter(item => {
                        const matchKeyword = !searchKeyword.value || 
                            item.name.toLowerCase().includes(searchKeyword.value.toLowerCase());
                        const matchCategory = !filterCategory.value || 
                            item.category_id === filterCategory.value;
                        return matchKeyword && matchCategory;
                    });
                });

                // è·å–åˆ†ç±»åç§°
                const getCategoryName = (categoryId) => {
                    const category = categories.value.find(c => c.id === categoryId);
                    return category ? category.name : 'æœªåˆ†ç±»';
                };

                // è·å–åˆ†ç±»ä¸‹çš„èœå“æ•°é‡
                const getCategoryItemCount = (categoryId) => {
                    return menuItems.value.filter(item => item.category_id === categoryId).length;
                };

                // é‡ç½®èœå“è¡¨å•
                const resetMenuForm = () => {
                    menuForm.id = null;
                    menuForm.name = '';
                    menuForm.category_id = null;
                    menuForm.price = 0;
                    menuForm.stock = 0;
                    menuForm.description = '';
                    menuForm.image_url = '';
                    menuForm.is_available = true;
                    menuForm.is_recommended = false;
                };

                // å¤„ç†å›¾ç‰‡ä¸Šä¼ 
                const handleImageUpload = (event) => {
                    const file = event.target.files[0];
                    if (file) {
                        // è¿™é‡Œåº”è¯¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œæš‚æ—¶ä½¿ç”¨æœ¬åœ°é¢„è§ˆ
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            menuForm.image_url = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                };

                // ä¿å­˜åˆ†ç±»
                const saveCategory = () => {
                    if (!categoryForm.name) {
                        ElementPlus.ElMessage.warning('è¯·è¾“å…¥åˆ†ç±»åç§°');
                        return;
                    }

                    if (editingCategory.value) {
                        // ç¼–è¾‘
                        const index = categories.value.findIndex(c => c.id === editingCategory.value.id);
                        if (index !== -1) {
                            categories.value[index] = { ...categoryForm, id: editingCategory.value.id };
                        }
                    } else {
                        // æ–°å¢
                        const newId = Math.max(...categories.value.map(c => c.id), 0) + 1;
                        categories.value.push({
                            id: newId,
                            ...categoryForm
                        });
                    }

                    saveData();
                    showCategoryDialog.value = false;
                    editingCategory.value = null;
                    ElementPlus.ElMessage.success(editingCategory.value ? 'åˆ†ç±»å·²æ›´æ–°' : 'åˆ†ç±»å·²æ·»åŠ ');
                };

                // ç¼–è¾‘åˆ†ç±»
                const editCategory = (category) => {
                    editingCategory.value = category;
                    Object.assign(categoryForm, category);
                    showCategoryDialog.value = true;
                };

                // åˆ é™¤åˆ†ç±»
                const deleteCategory = (category) => {
                    const itemCount = getCategoryItemCount(category.id);
                    if (itemCount > 0) {
                        ElementPlus.ElMessage.warning(`è¯¥åˆ†ç±»ä¸‹è¿˜æœ‰ ${itemCount} é“èœå“ï¼Œæ— æ³•åˆ é™¤`);
                        return;
                    }

                    ElementPlus.ElMessageBox.confirm(
                        `ç¡®å®šè¦åˆ é™¤åˆ†ç±»"${category.name}"å—ï¼Ÿ`,
                        'æç¤º',
                        {
                            confirmButtonText: 'ç¡®å®š',
                            cancelButtonText: 'å–æ¶ˆ',
                            type: 'warning'
                        }
                    ).then(() => {
                        const index = categories.value.findIndex(c => c.id === category.id);
                        if (index !== -1) {
                            categories.value.splice(index, 1);
                            saveData();
                            ElementPlus.ElMessage.success('åˆ†ç±»å·²åˆ é™¤');
                        }
                    }).catch(() => {});
                };

                // ä¿å­˜èœå“
                const saveMenu = () => {
                    if (!menuForm.name || !menuForm.category_id || menuForm.price <= 0) {
                        ElementPlus.ElMessage.warning('è¯·å¡«å†™å®Œæ•´çš„èœå“ä¿¡æ¯');
                        return;
                    }

                    if (isEditing.value) {
                        // ç¼–è¾‘
                        const index = menuItems.value.findIndex(m => m.id === menuForm.id);
                        if (index !== -1) {
                            menuItems.value[index] = { ...menuForm };
                        }
                    } else {
                        // æ–°å¢
                        const newId = Math.max(...menuItems.value.map(m => m.id), 0) + 1;
                        menuItems.value.push({
                            id: newId,
                            ...menuForm
                        });
                    }

                    saveData();
                    showMenuDialog.value = false;
                    isEditing.value = false;
                    ElementPlus.ElMessage.success(isEditing.value ? 'èœå“å·²æ›´æ–°' : 'èœå“å·²æ·»åŠ ');
                };

                // ç¼–è¾‘èœå“
                const editMenu = (item) => {
                    isEditing.value = true;
                    Object.assign(menuForm, item);
                    showMenuDialog.value = true;
                };

                // åˆ‡æ¢èœå“çŠ¶æ€
                const toggleMenuStatus = (item) => {
                    item.is_available = !item.is_available;
                    saveData();
                    ElementPlus.ElMessage.success(item.is_available ? 'èœå“å·²ä¸Šæ¶' : 'èœå“å·²ä¸‹æ¶');
                };

                // åˆ é™¤èœå“
                const deleteMenu = (item) => {
                    ElementPlus.ElMessageBox.confirm(
                        `ç¡®å®šè¦åˆ é™¤èœå“"${item.name}"å—ï¼Ÿ`,
                        'æç¤º',
                        {
                            confirmButtonText: 'ç¡®å®š',
                            cancelButtonText: 'å–æ¶ˆ',
                            type: 'warning'
                        }
                    ).then(() => {
                        const index = menuItems.value.findIndex(m => m.id === item.id);
                        if (index !== -1) {
                            menuItems.value.splice(index, 1);
                            saveData();
                            ElementPlus.ElMessage.success('èœå“å·²åˆ é™¤');
                        }
                    }).catch(() => {});
                };

                // ä¿å­˜æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
                const saveData = () => {
                    localStorage.setItem('menuCategories', JSON.stringify(categories.value));
                    localStorage.setItem('menuItems', JSON.stringify(menuItems.value));
                };

                // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®
                const loadData = () => {
                    const savedCategories = localStorage.getItem('menuCategories');
                    if (savedCategories) {
                        categories.value = JSON.parse(savedCategories);
                    }

                    const savedMenuItems = localStorage.getItem('menuItems');
                    if (savedMenuItems) {
                        menuItems.value = JSON.parse(savedMenuItems);
                    }
                };

                const handleTabChange = () => {
                    // Tab åˆ‡æ¢å¤„ç†
                };

                // åˆå§‹åŒ–
                loadData();

                return {
                    activeTab,
                    searchKeyword,
                    filterCategory,
                    showCategoryDialog,
                    showMenuDialog,
                    editingCategory,
                    isEditing,
                    categories,
                    menuItems,
                    categoryForm,
                    menuForm,
                    filteredMenuItems,
                    getCategoryName,
                    getCategoryItemCount,
                    resetMenuForm,
                    handleImageUpload,
                    saveCategory,
                    editCategory,
                    deleteCategory,
                    saveMenu,
                    editMenu,
                    toggleMenuStatus,
                    deleteMenu,
                    handleTabChange
                };
            }
        }).use(ElementPlus).mount('#app');
    </script>
</body>
</html>
